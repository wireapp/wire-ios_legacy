machine:
  xcode:
    version: "8.3"
  environment:
    # Used for compatibility with scripts made for Jenkins
    DESTINATION: "platform=iOS Simulator,name=iPhone 6,OS=10.3" 

dependencies:
  override:
    - ./setup.sh

build:
  override:
    - xcodebuild -workspace Wire-iOS.xcworkspace -scheme Wire-iOS build-for-testing -enableCodeCoverage YES -destination '$(DESTINATION)' | xcpretty

test:
  override:
    - xcodebuild -workspace Wire-iOS.xcworkspace -scheme Wire-iOS test-without-building -enableCodeCoverage YES -destination '$(DESTINATION)' | xcpretty
    